<div class="container mx-auto p-4 bg-gray-50 h-screen">
    <app-navbar></app-navbar>
    <div *ngIf="typeUser === 'admin'; else sinCrud">
        <div class="text-center">
            <h2 class=" py-4 text-2xl font-bold mb-4">Lista de Empleados</h2>
        </div>
        <p>Crea una nueva entidad o edita una ya existente</p>
        <ul class="space-y-3">
            <form class="flex" novalidate (ngSubmit)="registerNewEmpleado(registerForm)" #registerForm="ngForm">
                <input type="text"
                    placeholder="Ingresa el nombre" 
                    class="w-full rounded bg-gray-100 border-2 border-gray-300"
                    id="newNameEmpleado" 
                    name="newNameEmpleado" 
                    [value]="newNameEmpleado"
                    [(ngModel)]="newNameEmpleado" 
                    required 
                    #nameInput="ngModel"
                >
                <input type="text"
                    placeholder="Ingresa el Email" 
                    class="w-full rounded bg-gray-100 border-2 border-gray-300"
                    id="newEmail" 
                    name="newEmail" 
                    [value]="newEmail"
                    [(ngModel)]="newEmail" 
                    required 
                    #CommentInput="ngModel"
                >
                <input type="text"
                placeholder="Ingresa el cargo" 
                class="w-full rounded bg-gray-100 border-2 border-gray-300"
                id="newCargo" 
                name="newCargo" 
                [value]="newCargo"
                [(ngModel)]="newCargo" 
                required 
                #CommentInput="ngModel"
            >
                <button *ngIf="!isEditing; else mostEdid" class="bg-green-600 py-2 px-10 text-white rounded" type="submit">crear</button>
                <ng-template #mostEdid>
                    <button class="bg-orange-600 text-white py-2 px-10  rounded" type="submit">Editar</button>
                </ng-template>
            </form>

            <li *ngFor="let empleado of empleados" class="bg-blue-500 p-3 rounded shadow hover:bg-blue-300 cursor-pointer text-white">
                <h3 class="text-lg font-semibold">{{ empleado.nombre }}</h3>
                <p><span class="font-bold">Direccion: </span> {{empleado.email}}</p>
                <p><span class="font-bold">Cargo: </span> {{empleado.cargo}}</p>
                <button class="bg-orange-600 text-white py-2 mr-2 px-10  rounded" (click)="changeModeEditing(empleado.id)">Editar</button>
                <button class="bg-red-600 text-white py-2 px-10  rounded" (click)="deleteEntidad(empleado.id)">Cancelar</button>
            </li>
        </ul>
    </div>
    <ng-template #sinCrud>
        <div class="container mx-auto p-4 bg-gray-50 h-screen">
            <div class="text-center">
                <h2 class="text-2xl font-bold mb-4">Lista de Empleados</h2>
            </div>
            <ul class="space-y-3">
                <li *ngFor="let empleado of empleados" class="bg-gray-500 p-3 rounded shadow hover:bg-gray-400 cursor-pointer">
                    <h3 class="text-lg font-semibold">{{ empleado.nombre }}</h3>
                    <p><span class="font-bold">Direccion: </span> {{empleado.email}}</p>
                    <p><span class="font-bold">Direccion: </span> {{empleado.cargo}}</p>
                </li>
            </ul>
        </div>
    </ng-template>
</div>

